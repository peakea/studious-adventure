<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Topics by <%= authorName %> - Secure Forum</title>
    <%- include('styles') %>
</head>

<body>
    <div class="container">
        <div class="margin-bottom">
            <a href="/" class="back-link">‚Üê Back to All Topics</a>
        </div>

        <h1>Topics by <%= authorName %></h1>

        <% if (topics.length===0) { %>
            <p class="empty-state">This user hasn't created any topics yet.</p>
        <% } else { %>
            <ul class="topics-list">
                <% topics.forEach(topic=> { %>
                    <li class="topic-item">
                        <a href="/topic/<%= topic.id %>">
                            <%= topic.title %>
                        </a>
                        <span class="topic-date">
                            <%= new Date(topic.created_at).toLocaleString() %>
                        </span>
                    </li>
                <% }) %>
            </ul>

            <% if (totalPages > 1) { %>
                <div class="pagination">
                    <% for (let i = 1; i <= totalPages; i++) { %>
                        <% if (i === currentPage) { %>
                            <span class="page-current"><%= i %></span>
                        <% } else { %>
                            <a href="<%= i === 1 ? '/user/' + authorName : '/user/' + authorName + '/page/' + i %>" class="page-link"><%= i %></a>
                        <% } %>
                    <% } %>
                </div>
            <% } %>
        <% } %>
    </div>
</body>

</html>
